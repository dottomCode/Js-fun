<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS</title>
</head>

<body>
  <h1>Promise All</h1>
  <p>
    Materi sebelumnya kita belajar bagaimana promise dapat menangani situasi di mana terdapat asynchronous process yang
    saling membutuhkan untuk melaksanakan tugasnya. Namun bagaimana jika kita ingin menjalankan banyak promise sekaligus
    namun tidak memperdulikan urutan?

    Kita sering pergi ke cafe untuk menikmati secangkir kopi bersama teman kuliah ataupun rekan kerja. Ketika memesan
    kopi, biasanya kita lakukan secara bersamaan. Meskipun kopi yang kita pesan berbeda, tak jarang pelayan
    menghidangkannya berbarengan dengan kopi yang teman kita pesan. Nah pada kasus inilah pelayan menggunakan teknik
    Promise.all().

    Method Promise.all() dapat menerima banyak promise (dalam bentuk array) pada parameternya. Kemudian method tersebut
    akan mengembalikan nilai seluruh hasil dari promise yang kita tetapkan dalam bentuk array.
  </p>
  <script>
    const arabicaOrder = () => {
      return new Promise(resolve => {
        setTimeout(() => {
          resolve("Kopi arabika selesai!")
        }, 4000)
      })
    }

    const robustaOrder = () => {
      return new Promise(resolve => {
        setTimeout(() => {
          resolve("Kopi robusta selesai!")
        }, 2000)
      })
    }

    const libericaOrder = () => {
      return new Promise(resolve => {
        setTimeout(() => {
          resolve("Kopi liberica selesai!")
        }, 3000)
      })
    }

    const promises = [arabicaOrder(), robustaOrder(), libericaOrder()];

    Promise.all(promises)
      .then(resolvedValue => {
        console.log(resolvedValue);
      })
      
  </script>
</body>

</html>